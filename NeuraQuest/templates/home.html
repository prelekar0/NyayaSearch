<!DOCTYPE html>
<html lang="en">
  <head>
    {% load static %}
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NeuraQuest</title>
    <link rel="stylesheet" href="{% static 'css/output.css' %}" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>


    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet" />
    <style>
        body{
            font-family: 'Work Sans';
        }
    </style>
  </head>
  <body class="bg-gray-950 text-gray-100 font-sans">
    <!-- Navigation Bar -->
    <nav class="fixed w-full top-0 z-50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
          <div class="flex-shrink-0 flex items-center">
            <a href="#" class="text-2xl font-bold text-white">NeuraQuest</a>
          </div>
          <div class="hidden md:flex md:items-center md:space-x-6">
            <a href="#about" class="text-gray-300 hover:text-blue-400 transition duration-300">About</a>
            <a href="#services" class="text-gray-300 hover:text-blue-400 transition duration-300">Services</a>
            <a href="#contact" class="text-gray-300 hover:text-blue-400 transition duration-300">Contact</a>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="flex flex-col items-center justify-center min-h-screen pt-20 relative z-10">
      <h1 class="text-5xl font-bold mb-4 text-center">Welcome to NeuraQuest</h1>
      <p class="text-md text-center mb-8 max-w-lg">Discover the future of AI with our platform, pioneering early detection systems for brain tumors to enhance outcomes and save lives.</p>
      <div class="flex space-x-4">
        <button class="bg-gray-50 hover:bg-gray-200 text-black font-medium py-3 px-6 rounded-lg shadow-lg transform transition duration-300 hover:scale-105">Let's Start</button>
        <button class="bg-gray-50 hover:bg-gray-200 text-black font-medium py-3 px-6 rounded-lg shadow-lg transform transition duration-300 hover:scale-105">Melanoma</button>
      </div>
    </div>

    <!-- 3D Brain Canvas -->
    <div class="absolute inset-0 z-0 opacity-[35%]">
      <canvas id="brain-canvas" class="w-full h-full filter grayscale"></canvas>
    </div>

    <script>
      // Three.js setup
      const scene = new THREE.Scene()
      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000)
      const renderer = new THREE.WebGLRenderer({
        canvas: document.getElementById('brain-canvas'),
        alpha: true
      })
      renderer.setSize(window.innerWidth, window.innerHeight)
      
      // Lighting
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.5)
      scene.add(ambientLight)
      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8)
      directionalLight.position.set(0, 1, 1)
      scene.add(directionalLight)
      
      // Load 3D Brain Model
      const loader = new THREE.GLTFLoader()
      let brain
      
      loader.load(
        '{% static "models/brain2.glb" %}',
        function (gltf) {
          brain = gltf.scene
          scene.add(brain)
      
          // Center and scale the model
          const box = new THREE.Box3().setFromObject(brain)
          const center = box.getCenter(new THREE.Vector3())
          brain.position.sub(center)
      
          const size = box.getSize(new THREE.Vector3())
          const maxDim = Math.max(size.x, size.y, size.z)
          const scale = 0.8
          brain.scale.multiplyScalar(scale)
        },
        undefined,
        function (error) {
          console.error('Error loading 3D model:', error)
        }
      )
      
      camera.position.z = 5
      
      // Animation
      function animate() {
        requestAnimationFrame(animate)
        if (brain) {
          brain.rotation.y += 0.005
        }
        renderer.render(scene, camera)
      }
      animate()
      
      // Handle window resize
      window.addEventListener('resize', onWindowResize, false)
      function onWindowResize() {
        camera.aspect = window.innerWidth / window.innerHeight
        camera.updateProjectionMatrix()
        renderer.setSize(window.innerWidth, window.innerHeight)
      }
    </script>
  </body>
</html>
